import "@assets/fonts/JetBrainsMono-Bold.ttf";
import "@assets/fonts/JetBrainsMono-BoldItalic.ttf";
import "@assets/fonts/JetBrainsMono-ExtraBold.ttf";
import "@assets/fonts/JetBrainsMono-ExtraBoldItalic.ttf";
import "@assets/fonts/JetBrainsMono-ExtraLight.ttf";
import "@assets/fonts/JetBrainsMono-ExtraLightItalic.ttf";
import "@assets/fonts/JetBrainsMono-Italic.ttf";
import "@assets/fonts/JetBrainsMono-Light.ttf";
import "@assets/fonts/JetBrainsMono-LightItalic.ttf";
import "@assets/fonts/JetBrainsMono-Medium.ttf";
import "@assets/fonts/JetBrainsMono-MediumItalic.ttf";
import "@assets/fonts/JetBrainsMono-Regular.ttf";
import "@assets/fonts/JetBrainsMono-SemiBold.ttf";
import "@assets/fonts/JetBrainsMono-SemiBoldItalic.ttf";
import "@assets/fonts/JetBrainsMono-Thin.ttf";
import "@assets/fonts/JetBrainsMono-ThinItalic.ttf";

import { PageView, PageViewItem } from "@ui/components/page-view/index.slint";

import { LKPalette } from "@ui/style/color-palette.slint";
import {
    LKText,
    LKButton,
    LKSelectionPanel,
    LKVerticalSelectionPanelItem,
} from "@ui/style/components/index.slint";

import { InstancesPage } from "pages/instances.slint";
import { ServersPage } from "pages/servers.slint";
import { AccountsPage } from "pages/accounts.slint";
import { SettingsPage } from "pages/settings.slint";
import { VerticalBox } from "std-widgets.slint";

export component App inherits Window {
    title: "LK Launcher";

    min-height: 500px;
    min-width: 750px;
    background: LKPalette.background;
    
    HorizontalLayout {
        selection-panel := LKSelectionPanel {
            background: LKPalette.alternate-background;
            width: 100px;

            VerticalLayout {
                alignment: LayoutAlignment.space-between;

                VerticalLayout {
                    LKVerticalSelectionPanelItem {
                        height: 75px;
                        is-selected: selection-panel.active-selection-index == 0;
                        clicked => {
                            selection-panel.active-selection-index = 0;
                            page-view.active-page-index = 0
                        }
                        VerticalLayout {
                            alignment: LayoutAlignment.center;
                            spacing: 10px;
                            Image {
                                source: @image-url("@assets/icons/play.svg");
                                height: 20px;
                            }
                            Rectangle {
                                LKText {
                                    text: "Instances";
                                }
                            }
                        }
                        
                    }
                    LKVerticalSelectionPanelItem {
                        height: 75px;
                        is-selected: selection-panel.active-selection-index == 1;
                        clicked => {
                            selection-panel.active-selection-index = 1;
                            page-view.active-page-index = 1;
                        }
                        VerticalLayout {
                            alignment: LayoutAlignment.center;
                            spacing: 10px;
                            Image {
                                source: @image-url("@assets/icons/server.svg");
                                height: 20px;
                            }
                            Rectangle {
                                LKText {
                                    text: "Servers";
                                }
                            }
                        }
                    }
                }

                VerticalLayout {
                    LKVerticalSelectionPanelItem {
                        height: 75px;
                        is-selected: selection-panel.active-selection-index == 2;
                        clicked => {
                            selection-panel.active-selection-index = 2;
                            page-view.active-page-index = 2;
                        }
                        VerticalLayout {
                            alignment: LayoutAlignment.center;
                            spacing: 10px;
                            Image {
                                source: @image-url("@assets/icons/user.svg");
                                height: 20px;
                            }
                            Rectangle {
                                LKText {
                                    text: "Accounts";
                                }
                            }
                        }
                    }

                    LKVerticalSelectionPanelItem {
                        height: 75px;
                        is-selected: selection-panel.active-selection-index == 3;
                        clicked => {
                            selection-panel.active-selection-index = 3;
                            page-view.active-page-index = 3;
                        }
                        VerticalLayout {
                            alignment: LayoutAlignment.center;
                            spacing: 10px;
                            Image {
                                source: @image-url("@assets/icons/settings.svg");
                                height: 20px;
                            }
                            Rectangle {
                                LKText {
                                    text: "Settings";
                                }
                            }
                        } 
                    }
                }
            }
        } 

        page-view := PageView {
            min-width: 650px;
            PageViewItem {
                is-active: page-view.active-page-index == 0;
                InstancesPage {}
            }
            PageViewItem {
                is-active: page-view.active-page-index == 1;
                ServersPage {}
            }
            PageViewItem {
                is-active: page-view.active-page-index == 2;
                AccountsPage {}
            }
            PageViewItem {
                is-active: page-view.active-page-index == 3;
                SettingsPage {}
            }
        }
    }
}